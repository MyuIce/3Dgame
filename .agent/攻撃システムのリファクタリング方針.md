# æ”»æ’ƒã‚·ã‚¹ãƒ†ãƒ ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ–¹é‡

## ğŸ“‹ ç¾çŠ¶åˆ†æ

### ç¾åœ¨ã®æ”»æ’ƒã‚¹ã‚¯ãƒªãƒ—ãƒˆ

1. **`PlayerAttack.cs`** - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ”»æ’ƒå‡¦ç†
2. **`CharaAttack.cs`** - æ•µ(Enemy)ã®æ”»æ’ƒå‡¦ç†

### å•é¡Œç‚¹

ä¸¡ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä»¥ä¸‹ã®å…±é€šå‡¦ç†ã‚’æŒã£ã¦ãŠã‚Šã€**å†—é•·**ã§ã™:

- `OnTriggerEnter`ã«ã‚ˆã‚‹è¡çªæ¤œçŸ¥
- `IDamageable`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å–å¾—
- ãƒ€ãƒ¡ãƒ¼ã‚¸å‡¦ç†ã®å‘¼ã³å‡ºã—
- ã‚¿ã‚°ã«ã‚ˆã‚‹ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¤å®š

---

## ğŸ¯ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ1: **åŸºåº•ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆæ¨å¥¨ï¼‰**

å…±é€šå‡¦ç†ã‚’åŸºåº•ã‚¯ãƒ©ã‚¹ã«ã¾ã¨ã‚ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨æ•µã§ç¶™æ‰¿ã™ã‚‹æ–¹æ³•ã€‚

#### ãƒ¡ãƒªãƒƒãƒˆ
- âœ… ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡ã‚’å®Œå…¨ã«æ’é™¤
- âœ… å…±é€šãƒ­ã‚¸ãƒƒã‚¯ã®ä¸€å…ƒç®¡ç†
- âœ… ãƒã‚°ä¿®æ­£ãŒ1ç®‡æ‰€ã§æ¸ˆã‚€
- âœ… æ–°ã—ã„æ”»æ’ƒã‚¿ã‚¤ãƒ—ã®è¿½åŠ ãŒå®¹æ˜“

#### ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
- âš ï¸ ç¶™æ‰¿ã®éšå±¤ãŒæ·±ããªã‚‹å¯èƒ½æ€§
- âš ï¸ æŸ”è»Ÿæ€§ãŒã‚„ã‚„ä½ã„

---

### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ2: **ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ + ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³**

æ”»æ’ƒå‡¦ç†ã‚’ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§å®šç¾©ã—ã€å…±é€šå‡¦ç†ã‚’åˆ¥ã‚¯ãƒ©ã‚¹ã«å§”è­²ã™ã‚‹æ–¹æ³•ã€‚

#### ãƒ¡ãƒªãƒƒãƒˆ
- âœ… æŸ”è»Ÿæ€§ãŒé«˜ã„
- âœ… å¤šé‡ç¶™æ‰¿ã®å•é¡Œã‚’å›é¿
- âœ… ãƒ†ã‚¹ãƒˆãŒã—ã‚„ã™ã„

#### ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
- âš ï¸ ã‚¯ãƒ©ã‚¹æ•°ãŒå¢—ãˆã‚‹
- âš ï¸ åˆå¿ƒè€…ã«ã¯ç†è§£ã—ã¥ã‚‰ã„

---

### ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ3: **ã‚¹ãƒˆãƒ©ãƒ†ã‚¸ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³**

æ”»æ’ƒãƒ­ã‚¸ãƒƒã‚¯ã‚’æˆ¦ç•¥ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦åˆ†é›¢ã™ã‚‹æ–¹æ³•ã€‚

#### ãƒ¡ãƒªãƒƒãƒˆ
- âœ… æ”»æ’ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã®åˆ‡ã‚Šæ›¿ãˆãŒå®¹æ˜“
- âœ… æ‹¡å¼µæ€§ãŒéå¸¸ã«é«˜ã„

#### ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
- âš ï¸ å®Ÿè£…ãŒè¤‡é›‘
- âš ï¸ å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯éå‰°è¨­è¨ˆ

---

## ğŸ† æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ: åŸºåº•ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³

ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯**åŸºåº•ã‚¯ãƒ©ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**ãŒæœ€é©ã§ã™ã€‚

### ç†ç”±

1. **æ—¢å­˜ã®æ§‹é€ ã¨ä¸€è²«æ€§ãŒã‚ã‚‹**
   - `CharaDamage`ï¼ˆåŸºåº•ï¼‰â†’ `EnemyDamage`ï¼ˆæ´¾ç”Ÿï¼‰ã®æ§‹é€ ã¨åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³
   
2. **ã‚·ãƒ³ãƒ—ãƒ«ã§ç†è§£ã—ã‚„ã™ã„**
   - ç¶™æ‰¿ã¯ç›´æ„Ÿçš„ã§ã€åˆå¿ƒè€…ã«ã‚‚åˆ†ã‹ã‚Šã‚„ã™ã„
   
3. **ç¾åœ¨ã®ã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ãŒæœ€å°é™**
   - æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å¤§ããå¤‰æ›´ã›ãšã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¯èƒ½

---

## ğŸ“ è¨­è¨ˆæ¡ˆ

### ã‚¯ãƒ©ã‚¹æ§‹é€ 

```
BaseAttack (åŸºåº•ã‚¯ãƒ©ã‚¹)
    â”œâ”€ PlayerAttack (ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç”¨)
    â””â”€ EnemyAttack (æ•µç”¨)
```

### åŸºåº•ã‚¯ãƒ©ã‚¹: `BaseAttack`

```csharp
public abstract class BaseAttack : MonoBehaviour
{
    [SerializeField] protected Charadata attackerData;  // æ”»æ’ƒè€…ã®ãƒ‡ãƒ¼ã‚¿
    [SerializeField] protected string[] targetTags;     // æ”»æ’ƒå¯¾è±¡ã®ã‚¿ã‚°
    
    protected int attackPower;
    
    protected virtual void Start()
    {
        InitializeAttackPower();
    }
    
    // æ”»æ’ƒåŠ›ã®åˆæœŸåŒ–ï¼ˆæ´¾ç”Ÿã‚¯ãƒ©ã‚¹ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰å¯èƒ½ï¼‰
    protected virtual void InitializeAttackPower()
    {
        if (attackerData != null)
        {
            var status = attackerData.GetCharaStatus();
            attackPower = status.ATK;
        }
    }
    
    // è¡çªæ¤œçŸ¥ï¼ˆå…±é€šå‡¦ç†ï¼‰
    protected virtual void OnTriggerEnter(Collider other)
    {
        // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯
        if (!IsValidTarget(other))
            return;
        
        // è¿½åŠ ã®æ”»æ’ƒæ¡ä»¶ãƒã‚§ãƒƒã‚¯ï¼ˆæ´¾ç”Ÿã‚¯ãƒ©ã‚¹ã§å®Ÿè£…ï¼‰
        if (!CanAttack(other))
            return;
        
        // ãƒ€ãƒ¡ãƒ¼ã‚¸å‡¦ç†
        PerformAttack(other);
    }
    
    // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ¤å®šï¼ˆå…±é€šå‡¦ç†ï¼‰
    protected virtual bool IsValidTarget(Collider other)
    {
        foreach (string tag in targetTags)
        {
            if (other.CompareTag(tag))
                return true;
        }
        return false;
    }
    
    // æ”»æ’ƒå¯èƒ½ã‹ã©ã†ã‹ï¼ˆæ´¾ç”Ÿã‚¯ãƒ©ã‚¹ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰
    protected virtual bool CanAttack(Collider other)
    {
        return true;  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯å¸¸ã«æ”»æ’ƒå¯èƒ½
    }
    
    // ãƒ€ãƒ¡ãƒ¼ã‚¸å‡¦ç†ï¼ˆå…±é€šå‡¦ç†ï¼‰
    protected virtual void PerformAttack(Collider other)
    {
        IDamageable damageable = other.GetComponent<IDamageable>();
        
        if (damageable != null)
        {
            // æ”»æ’ƒå‰ã®å‡¦ç†ï¼ˆæ´¾ç”Ÿã‚¯ãƒ©ã‚¹ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰å¯èƒ½ï¼‰
            OnBeforeAttack(other);
            
            // ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚’ä¸ãˆã‚‹
            damageable.Damage(attackPower);
            
            // æ”»æ’ƒå¾Œã®å‡¦ç†ï¼ˆæ´¾ç”Ÿã‚¯ãƒ©ã‚¹ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰å¯èƒ½ï¼‰
            OnAfterAttack(other);
        }
    }
    
    // æ”»æ’ƒå‰ã®å‡¦ç†ï¼ˆæ´¾ç”Ÿã‚¯ãƒ©ã‚¹ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰
    protected virtual void OnBeforeAttack(Collider target) { }
    
    // æ”»æ’ƒå¾Œã®å‡¦ç†ï¼ˆæ´¾ç”Ÿã‚¯ãƒ©ã‚¹ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ï¼‰
    protected virtual void OnAfterAttack(Collider target) { }
}
```

---

### æ´¾ç”Ÿã‚¯ãƒ©ã‚¹1: `PlayerAttack`

```csharp
public class PlayerAttack : BaseAttack
{
    // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å›ºæœ‰ã®å‡¦ç†ãŒã‚ã‚Œã°ã“ã“ã«è¿½åŠ 
    
    protected override void Start()
    {
        base.Start();
        // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å›ºæœ‰ã®åˆæœŸåŒ–
    }
    
    // å¿…è¦ã«å¿œã˜ã¦ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
    protected override void OnAfterAttack(Collider target)
    {
        base.OnAfterAttack(target);
        // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ”»æ’ƒå¾Œå‡¦ç†ï¼ˆä¾‹: ã‚µã‚¦ãƒ³ãƒ‰å†ç”Ÿã€ã‚¨ãƒ•ã‚§ã‚¯ãƒˆç­‰ï¼‰
        Debug.Log($"ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒ {target.name} ã‚’æ”»æ’ƒã—ã¾ã—ãŸï¼");
    }
}
```

---

### æ´¾ç”Ÿã‚¯ãƒ©ã‚¹2: `EnemyAttack`ï¼ˆæ—§CharaAttackï¼‰

```csharp
public class EnemyAttack : BaseAttack
{
    [SerializeField] private GameObject attackChara;  // æ”»æ’ƒè€…ã®ã‚²ãƒ¼ãƒ ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
    
    private ICharaAttack hitCounter;
    private int remainingHits;
    
    protected override void Start()
    {
        base.Start();
        
        // ãƒ’ãƒƒãƒˆã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ã®å–å¾—
        if (attackChara != null)
        {
            hitCounter = attackChara.GetComponent<ICharaAttack>();
        }
    }
    
    // æ”»æ’ƒå¯èƒ½ã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ï¼ˆãƒ’ãƒƒãƒˆæ•°åˆ¶é™ï¼‰
    protected override bool CanAttack(Collider other)
    {
        if (hitCounter == null)
            return false;
        
        remainingHits = hitCounter.HitCount();
        
        // ãƒ’ãƒƒãƒˆæ•°ãŒ0ä»¥ä¸‹ãªã‚‰æ”»æ’ƒä¸å¯
        return remainingHits > 0;
    }
    
    // æ”»æ’ƒå‰ã®å‡¦ç†ï¼ˆãƒ’ãƒƒãƒˆæ•°ã®ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ï¼‰
    protected override void OnBeforeAttack(Collider target)
    {
        base.OnBeforeAttack(target);
        
        if (hitCounter != null)
        {
            hitCounter.HitCountdown();
        }
    }
    
    protected override void OnAfterAttack(Collider target)
    {
        base.OnAfterAttack(target);
        Debug.Log($"æ•µãŒ {target.name} ã‚’æ”»æ’ƒã—ã¾ã—ãŸï¼");
    }
}
```

---

## ğŸ”„ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: åŸºåº•ã‚¯ãƒ©ã‚¹ã®ä½œæˆ

1. `BaseAttack.cs`ã‚’æ–°è¦ä½œæˆ
2. å…±é€šå‡¦ç†ã‚’å®Ÿè£…
3. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèª

### ã‚¹ãƒ†ãƒƒãƒ—2: `PlayerAttack`ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

1. `PlayerAttack`ã‚’`BaseAttack`ã‹ã‚‰ç¶™æ‰¿
2. ä¸è¦ãªã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤
3. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å›ºæœ‰ã®å‡¦ç†ã®ã¿æ®‹ã™
4. ãƒ†ã‚¹ãƒˆã—ã¦å‹•ä½œç¢ºèª

### ã‚¹ãƒ†ãƒƒãƒ—3: `CharaAttack`ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

1. `CharaAttack`ã‚’`EnemyAttack`ã«ãƒªãƒãƒ¼ãƒ 
2. `BaseAttack`ã‹ã‚‰ç¶™æ‰¿
3. ãƒ’ãƒƒãƒˆã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã‚’`CanAttack`ã¨`OnBeforeAttack`ã«ç§»å‹•
4. ãƒ†ã‚¹ãƒˆã—ã¦å‹•ä½œç¢ºèª

### ã‚¹ãƒ†ãƒƒãƒ—4: å‹•ä½œç¢ºèªã¨ãƒ†ã‚¹ãƒˆ

1. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ”»æ’ƒãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‹
2. æ•µã®æ”»æ’ƒãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‹
3. ãƒ’ãƒƒãƒˆã‚«ã‚¦ãƒ³ãƒˆæ©Ÿèƒ½ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‹

---

## ğŸ“Š ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‰å¾Œã®æ¯”è¼ƒ

### ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å‰

```
PlayerAttack.cs (29è¡Œ)
â”œâ”€ OnTriggerEnter
â”œâ”€ ã‚¿ã‚°ãƒã‚§ãƒƒã‚¯
â”œâ”€ IDamageableå–å¾—
â””â”€ Damageå‘¼ã³å‡ºã—

CharaAttack.cs (ç´„50è¡Œ)
â”œâ”€ OnTriggerEnter
â”œâ”€ ãƒ’ãƒƒãƒˆã‚«ã‚¦ãƒ³ãƒˆãƒã‚§ãƒƒã‚¯
â”œâ”€ ã‚¿ã‚°ãƒã‚§ãƒƒã‚¯
â”œâ”€ IDamageableå–å¾—
â”œâ”€ HitCountdown
â””â”€ Damageå‘¼ã³å‡ºã—

åˆè¨ˆ: ç´„79è¡Œï¼ˆé‡è¤‡ã‚ã‚Šï¼‰
```

### ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œ

```
BaseAttack.cs (ç´„80è¡Œ)
â”œâ”€ å…±é€šå‡¦ç†ã‚’ä¸€å…ƒç®¡ç†
â”œâ”€ æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆã‚’æä¾›
â””â”€ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ãƒ‘ã‚¿ãƒ¼ãƒ³

PlayerAttack.cs (ç´„15è¡Œ)
â””â”€ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼å›ºæœ‰ã®å‡¦ç†ã®ã¿

EnemyAttack.cs (ç´„30è¡Œ)
â””â”€ æ•µå›ºæœ‰ã®å‡¦ç†ã®ã¿

åˆè¨ˆ: ç´„125è¡Œï¼ˆé‡è¤‡ãªã—ã€æ‹¡å¼µæ€§å‘ä¸Šï¼‰
```

---

## ğŸ¨ æ‹¡å¼µä¾‹

### ä¾‹1: é­”æ³•æ”»æ’ƒã®è¿½åŠ 

```csharp
public class MagicAttack : BaseAttack
{
    [SerializeField] private int manaCost = 10;
    private int currentMana;
    
    protected override bool CanAttack(Collider other)
    {
        // ãƒãƒŠãŒè¶³ã‚Šãªã„å ´åˆã¯æ”»æ’ƒä¸å¯
        return currentMana >= manaCost;
    }
    
    protected override void OnBeforeAttack(Collider target)
    {
        base.OnBeforeAttack(target);
        // ãƒãƒŠã‚’æ¶ˆè²»
        currentMana -= manaCost;
    }
    
    protected override void InitializeAttackPower()
    {
        base.InitializeAttackPower();
        
        // é­”æ³•æ”»æ’ƒã¯INTã‚’ä½¿ç”¨
        if (attackerData != null)
        {
            var status = attackerData.GetCharaStatus();
            attackPower = status.INT;
        }
    }
}
```

### ä¾‹2: ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ’ãƒƒãƒˆã®è¿½åŠ 

```csharp
public class CriticalAttack : BaseAttack
{
    [SerializeField] private float criticalChance = 0.2f;  // 20%
    [SerializeField] private float criticalMultiplier = 2.0f;
    
    protected override void PerformAttack(Collider other)
    {
        // ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«åˆ¤å®š
        bool isCritical = Random.value < criticalChance;
        
        if (isCritical)
        {
            int originalPower = attackPower;
            attackPower = Mathf.RoundToInt(attackPower * criticalMultiplier);
            
            base.PerformAttack(other);
            
            Debug.Log("ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ’ãƒƒãƒˆï¼");
            attackPower = originalPower;  // å…ƒã«æˆ»ã™
        }
        else
        {
            base.PerformAttack(other);
        }
    }
}
```

---

## ğŸ”§ ã•ã‚‰ãªã‚‹æ”¹å–„æ¡ˆ

### æ”¹å–„æ¡ˆ1: TotalRuntimeStatusã®æ´»ç”¨

ç¾åœ¨ã€`CharaDamage`ã¯`Charadata`ã‹ã‚‰ç›´æ¥ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’å–å¾—ã—ã¦ã„ã¾ã™ãŒã€è£…å‚™è¾¼ã¿ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚’åæ˜ ã™ã‚‹ãŸã‚ã«`TotalRuntimeStatus`ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚

```csharp
public abstract class BaseAttack : MonoBehaviour
{
    [SerializeField] protected TotalRuntimeStatus runtimeStatus;  // è¿½åŠ 
    
    protected virtual void InitializeAttackPower()
    {
        if (runtimeStatus != null)
        {
            // è£…å‚™è¾¼ã¿ã®ATKã‚’ä½¿ç”¨
            attackPower = runtimeStatus.TotalStatus.ATK;
        }
        else if (attackerData != null)
        {
            // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: åŸºç¤ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
            var status = attackerData.GetCharaStatus();
            attackPower = status.ATK;
        }
    }
}
```

### æ”¹å–„æ¡ˆ2: æ”»æ’ƒã‚¿ã‚¤ãƒ—ã®åˆ—æŒ™å‹

```csharp
public enum AttackType
{
    Physical,  // ç‰©ç†æ”»æ’ƒ
    Magic,     // é­”æ³•æ”»æ’ƒ
    Ranged     // é è·é›¢æ”»æ’ƒ
}

public abstract class BaseAttack : MonoBehaviour
{
    [SerializeField] protected AttackType attackType = AttackType.Physical;
    
    protected virtual void InitializeAttackPower()
    {
        if (attackerData != null)
        {
            var status = attackerData.GetCharaStatus();
            
            switch (attackType)
            {
                case AttackType.Physical:
                    attackPower = status.ATK;
                    break;
                case AttackType.Magic:
                    attackPower = status.INT;
                    break;
                case AttackType.Ranged:
                    attackPower = status.AGI;
                    break;
            }
        }
    }
}
```

### æ”¹å–„æ¡ˆ3: ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®å°å…¥

```csharp
public abstract class BaseAttack : MonoBehaviour
{
    // ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾©
    public event System.Action<Collider> OnAttackHit;
    public event System.Action<int> OnDamageDealt;
    
    protected override void PerformAttack(Collider other)
    {
        IDamageable damageable = other.GetComponent<IDamageable>();
        
        if (damageable != null)
        {
            OnBeforeAttack(other);
            damageable.Damage(attackPower);
            
            // ã‚¤ãƒ™ãƒ³ãƒˆç™ºç«
            OnAttackHit?.Invoke(other);
            OnDamageDealt?.Invoke(attackPower);
            
            OnAfterAttack(other);
        }
    }
}

// ä½¿ç”¨ä¾‹
public class PlayerAttack : BaseAttack
{
    protected override void Start()
    {
        base.Start();
        
        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ç™»éŒ²
        OnAttackHit += (target) => 
        {
            Debug.Log($"æ”»æ’ƒãƒ’ãƒƒãƒˆ: {target.name}");
            // ã‚µã‚¦ãƒ³ãƒ‰å†ç”Ÿã€ã‚¨ãƒ•ã‚§ã‚¯ãƒˆè¡¨ç¤ºãªã©
        };
        
        OnDamageDealt += (damage) =>
        {
            Debug.Log($"ä¸ãˆãŸãƒ€ãƒ¡ãƒ¼ã‚¸: {damage}");
            // UIã®æ›´æ–°ãªã©
        };
    }
}
```

---

## ğŸ“ ã¾ã¨ã‚

### ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã®ãƒ¡ãƒªãƒƒãƒˆ

1. **ã‚³ãƒ¼ãƒ‰ã®é‡è¤‡æ’é™¤**: å…±é€šå‡¦ç†ã‚’1ç®‡æ‰€ã«é›†ç´„
2. **ä¿å®ˆæ€§ã®å‘ä¸Š**: ãƒã‚°ä¿®æ­£ã‚„æ©Ÿèƒ½è¿½åŠ ãŒå®¹æ˜“
3. **æ‹¡å¼µæ€§ã®å‘ä¸Š**: æ–°ã—ã„æ”»æ’ƒã‚¿ã‚¤ãƒ—ã®è¿½åŠ ãŒç°¡å˜
4. **ä¸€è²«æ€§ã®ç¢ºä¿**: ã™ã¹ã¦ã®æ”»æ’ƒãŒåŒã˜åŸºç›¤ã‚’ä½¿ç”¨
5. **ãƒ†ã‚¹ãƒˆã®å®¹æ˜“åŒ–**: åŸºåº•ã‚¯ãƒ©ã‚¹ã‚’ãƒ†ã‚¹ãƒˆã™ã‚Œã°å…¨ä½“ã‚’ã‚«ãƒãƒ¼

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… `BaseAttack.cs`ã‚’ä½œæˆ
2. âœ… `PlayerAttack.cs`ã‚’ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
3. âœ… `CharaAttack.cs`ã‚’`EnemyAttack.cs`ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
4. âœ… å‹•ä½œç¢ºèªã¨ãƒ†ã‚¹ãƒˆ
5. âœ… å¿…è¦ã«å¿œã˜ã¦æ‹¡å¼µæ©Ÿèƒ½ã‚’è¿½åŠ 

### æ³¨æ„ç‚¹

- **æ®µéšçš„ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°**: ä¸€åº¦ã«ã™ã¹ã¦å¤‰æ›´ã›ãšã€1ã¤ãšã¤ãƒ†ã‚¹ãƒˆã—ãªãŒã‚‰é€²ã‚ã‚‹
- **æ—¢å­˜ã®å‹•ä½œã‚’ä¿æŒ**: ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œã‚‚åŒã˜å‹•ä½œã‚’ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- **ã‚³ãƒŸãƒƒãƒˆé »åº¦ã‚’ä¸Šã’ã‚‹**: å„ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã«ã‚³ãƒŸãƒƒãƒˆ

---

ã“ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã«ã‚ˆã‚Šã€ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã‚ˆã‚Š**ä¿å®ˆã—ã‚„ã™ã**ã€**æ‹¡å¼µã—ã‚„ã™ã**ã€**ç†è§£ã—ã‚„ã™ã„**ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã«ãªã‚Šã¾ã™ï¼ ğŸ‰

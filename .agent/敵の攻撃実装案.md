# æ•µã®ç§»å‹•â†’æ”»æ’ƒ å®Ÿè£…æ¡ˆ

## ğŸ“‹ ç¾çŠ¶ã®ç¢ºèª

### ç¾åœ¨ã®æ§‹æˆ
- **Enemystate1.cs**: AIçŠ¶æ…‹ç®¡ç†ã¨ç§»å‹•åˆ¶å¾¡
- **Enemykinsetu1.cs**: æ”»æ’ƒç®¡ç†ã¨ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- **æ•µå°‚ç”¨AnimationController**: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›´æ¥`Enemykinsetu1`ã«é€ä¿¡

### ç¾åœ¨ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æ§‹é€ 
- **Blend Tree**: ç§»å‹•ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ (MoveX, MoveZ)
- **Attack Parameter**: æ”»æ’ƒãƒˆãƒªã‚¬ãƒ¼ (Float: 0 or 1)
- **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ**: AttackStart, Hit, AttackEnd

---

## ğŸ¯ å®Ÿè£…æ¡ˆ

ç¾åœ¨ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å½¢å¼ã‚’æ´»ã‹ã—ã¦ã€ä»¥ä¸‹ã®3ã¤ã®å®Ÿè£…æ¡ˆã‚’ææ¡ˆã—ã¾ã™ã€‚

---

## æ¡ˆ1: ç¾åœ¨ã®å®Ÿè£…ã‚’å®Œæˆã•ã›ã‚‹ã€æ¨å¥¨ã€‘

### æ¦‚è¦
ç¾åœ¨ã®`Enemystate1.cs`ã¨`Enemykinsetu1.cs`ã®æ§‹é€ ã‚’æ´»ã‹ã—ã€æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Œæˆã•ã›ã‚‹æ¡ˆã§ã™ã€‚

### ãƒ¡ãƒªãƒƒãƒˆ
- âœ… æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ã»ã¼ãã®ã¾ã¾ä½¿ãˆã‚‹
- âœ… å®Ÿè£…ãŒæœ€ã‚‚ç°¡å˜
- âœ… ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“
- âœ… çŠ¶æ…‹ç®¡ç†ãŒæ˜ç¢º

### å®Ÿè£…æ‰‹é †

#### 1. Animatorã®è¨­å®š

**å¿…è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
```
- Attack (Float): 0 = å¾…æ©Ÿ/ç§»å‹•, 1 = æ”»æ’ƒ
- MoveX (Float): -1 ~ 1 (å·¦å³ç§»å‹•)
- MoveZ (Float): -1 ~ 1 (å‰å¾Œç§»å‹•)
```

**Animator Controlleræ§‹é€ :**
```
Base Layer
â”œâ”€ Idle/Movement (Blend Tree)
â”‚   â”œâ”€ Idle (0, 0)
â”‚   â”œâ”€ Walk Forward (0, 1)
â”‚   â”œâ”€ Walk Backward (0, -1)
â”‚   â”œâ”€ Walk Left (-1, 0)
â”‚   â””â”€ Walk Right (1, 0)
â”‚
â””â”€ Attack State
    â””â”€ Transition from Any State
        â”œâ”€ Condition: Attack > 0.5
        â””â”€ Has Exit Time: false
```

**Transitionè¨­å®š:**
```
Any State â†’ Attack
- Condition: Attack > 0.5
- Has Exit Time: false
- Transition Duration: 0.1s

Attack â†’ Idle/Movement
- Condition: Attack < 0.5
- Has Exit Time: true
- Exit Time: 1.0 (ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†æ™‚)
- Transition Duration: 0.2s
```

#### 2. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®è¨­å®š

æ”»æ’ƒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒªãƒƒãƒ—ã«ä»¥ä¸‹ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ :

```
ãƒ•ãƒ¬ãƒ¼ãƒ ä½ç½® | ã‚¤ãƒ™ãƒ³ãƒˆå    | å‘¼ã³å‡ºã™ãƒ¡ã‚½ãƒƒãƒ‰
-----------|-------------|------------------
10%        | AttackStart | Enemykinsetu1.AttackStart()
60%        | Hit         | Enemykinsetu1.Hit()
95%        | AttackEnd   | Enemykinsetu1.AttackEnd()
```

#### 3. æ•µã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆ

```
Enemy (GameObject)
â”œâ”€ Animator
â”œâ”€ CharacterController
â”œâ”€ Enemystate1 (AIåˆ¶å¾¡)
â”œâ”€ Enemykinsetu1 (æ”»æ’ƒç®¡ç†)
â”œâ”€ EnemyDamage (ãƒ€ãƒ¡ãƒ¼ã‚¸å—ä»˜)
â””â”€ Weapon (å­ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)
    â”œâ”€ Collider (Is Trigger: ON)
    â””â”€ CharaAttack (ãƒ€ãƒ¡ãƒ¼ã‚¸åˆ¤å®š)
```

#### 4. å‹•ä½œç¢ºèª

1. **å¾…æ©Ÿâ†’è¿½è·¡**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒ15mä»¥å†…ã«å…¥ã‚‹ã¨è¿½è·¡é–‹å§‹
2. **è¿½è·¡â†’æ¥è¿‘**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒ2.5mä»¥å†…ã«å…¥ã‚‹ã¨æ¥è¿‘çŠ¶æ…‹
3. **æ¥è¿‘â†’æ”»æ’ƒ**: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ–¹ã‚’å‘ã„ãŸã‚‰æ”»æ’ƒé–‹å§‹
4. **æ”»æ’ƒâ†’ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³**: æ”»æ’ƒå¾Œ2ç§’é–“ã®ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³
5. **ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³â†’è¿½è·¡/æ¥è¿‘**: è·é›¢ã«å¿œã˜ã¦æ¬¡ã®çŠ¶æ…‹ã¸

---

## æ¡ˆ2: Animator Controllerã‚’æ´»ç”¨ã—ãŸå®Ÿè£…

### æ¦‚è¦
Animatorã®çŠ¶æ…‹é·ç§»ã‚’æ´»ç”¨ã—ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆå´ã®çŠ¶æ…‹ç®¡ç†ã‚’ç°¡ç•¥åŒ–ã™ã‚‹æ¡ˆã§ã™ã€‚

### ãƒ¡ãƒªãƒƒãƒˆ
- âœ… Animatorã§çŠ¶æ…‹ã‚’è¦–è¦šçš„ã«ç®¡ç†ã§ãã‚‹
- âœ… ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ­ã‚¸ãƒƒã‚¯ã®é€£æºãŒå¼·å›º
- âœ… ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³èª¿æ•´ã—ã‚„ã™ã„

### ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
- âŒ AnimatorãŒè¤‡é›‘ã«ãªã‚‹
- âŒ ãƒ‡ãƒãƒƒã‚°ãŒå°‘ã—é›£ã—ã„

### å®Ÿè£…å†…å®¹

#### Animator Controlleræ§‹é€ 

```
Base Layer
â”œâ”€ Idle
â”‚   â””â”€ Transition to Chase
â”‚       â””â”€ Condition: Speed > 0.1
â”‚
â”œâ”€ Chase (Blend Tree)
â”‚   â”œâ”€ Transition to Idle
â”‚   â”‚   â””â”€ Condition: Speed < 0.1
â”‚   â””â”€ Transition to Attack
â”‚       â””â”€ Condition: Attack > 0.5
â”‚
â””â”€ Attack
    â””â”€ Transition to Idle
        â”œâ”€ Has Exit Time: true
        â””â”€ Exit Time: 1.0
```

#### è¿½åŠ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
```
- Speed (Float): ç§»å‹•é€Ÿåº¦ (0 ~ 1)
- Attack (Trigger): æ”»æ’ƒãƒˆãƒªã‚¬ãƒ¼
```

#### Enemystate1.csã®ä¿®æ­£

```csharp
void UpdateAnimator()
{
    if (animator == null) return;

    // ç§»å‹•é€Ÿåº¦ã‚’è¨ˆç®—
    float speed = characterController.velocity.magnitude / moveSpeed;
    animator.SetFloat("Speed", speed);

    // æ”»æ’ƒçŠ¶æ…‹ã®å ´åˆ
    if (currentState == EnemyState.Attack)
    {
        animator.SetTrigger("Attack");
    }
}
```

---

## æ¡ˆ3: StateMachineBehaviourã‚’ä½¿ã£ãŸå®Ÿè£…ã€ä¸Šç´šè€…å‘ã‘ã€‘

### æ¦‚è¦
Unityã®StateMachineBehaviourã‚’ä½¿ç”¨ã—ã¦ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã¨ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã‚’å¯†çµåˆã•ã›ã‚‹æ¡ˆã§ã™ã€‚

### ãƒ¡ãƒªãƒƒãƒˆ
- âœ… ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã¨ãƒ­ã‚¸ãƒƒã‚¯ãŒå®Œå…¨ã«åŒæœŸ
- âœ… ã‚³ãƒ¼ãƒ‰ãŒæ•´ç†ã•ã‚Œã‚‹
- âœ… æ‹¡å¼µæ€§ãŒé«˜ã„

### ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
- âŒ å®Ÿè£…ãŒè¤‡é›‘
- âŒ å­¦ç¿’ã‚³ã‚¹ãƒˆãŒé«˜ã„
- âŒ ãƒ‡ãƒãƒƒã‚°ãŒé›£ã—ã„

### å®Ÿè£…å†…å®¹

#### EnemyAttackBehaviour.cs (æ–°è¦ä½œæˆ)

```csharp
using UnityEngine;

/// <summary>
/// æ”»æ’ƒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã®å‹•ä½œã‚’åˆ¶å¾¡ã™ã‚‹StateMachineBehaviour
/// </summary>
public class EnemyAttackBehaviour : StateMachineBehaviour
{
    private Enemykinsetu1 attackManager;

    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã«å…¥ã£ãŸæ™‚
    override public void OnStateEnter(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)
    {
        if (attackManager == null)
        {
            attackManager = animator.GetComponent<Enemykinsetu1>();
        }
        
        // æ”»æ’ƒé–‹å§‹
        attackManager?.AttackStart();
    }

    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã‹ã‚‰å‡ºã‚‹æ™‚
    override public void OnStateExit(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)
    {
        // æ”»æ’ƒçµ‚äº†
        attackManager?.AttackEnd();
    }

    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å†ç”Ÿä¸­
    override public void OnStateUpdate(Animator animator, AnimatorStateInfo stateInfo, int layerIndex)
    {
        // ãƒ’ãƒƒãƒˆåˆ¤å®šã®ã‚¿ã‚¤ãƒŸãƒ³ã‚° (æ­£è¦åŒ–æ™‚é–“ 0.5 ~ 0.7ã®é–“)
        if (stateInfo.normalizedTime >= 0.5f && stateInfo.normalizedTime <= 0.7f)
        {
            // ãƒ’ãƒƒãƒˆåˆ¤å®šã‚’æœ‰åŠ¹åŒ–
            // ã“ã®éƒ¨åˆ†ã¯åˆ¥é€”å®Ÿè£…ãŒå¿…è¦
        }
    }
}
```

#### Animatorã¸ã®é©ç”¨

1. Attack Stateã‚’Inspectorã§é¸æŠ
2. "Add Behaviour"ã‚’ã‚¯ãƒªãƒƒã‚¯
3. `EnemyAttackBehaviour`ã‚’è¿½åŠ 

#### Enemykinsetu1.csã®ç°¡ç•¥åŒ–

```csharp
public class Enemykinsetu1 : MonoBehaviour, ICharaAttack
{
    Animator animator;
    int Hcount;
    bool Attacktime;

    public int HitCount() => Hcount;
    
    public void HitCountdown()
    {
        if(Hcount > 0) --Hcount;
    }
    
    public bool Attacktimeinspection() => Attacktime;

    void Start()
    {
        animator = GetComponent<Animator>();
    }

    // StateMachineBehaviourã‹ã‚‰å‘¼ã°ã‚Œã‚‹
    public void AttackStart()
    {
        Hcount = 1;
        Attacktime = true;
    }

    public void AttackEnd()
    {
        Hcount = 0;
        Attacktime = false;
        animator.SetFloat("Attack", 0f);
    }
}
```

---

## ğŸ” å„æ¡ˆã®æ¯”è¼ƒè¡¨

| é …ç›® | æ¡ˆ1: ç¾åœ¨ã®å®Ÿè£… | æ¡ˆ2: Animatoræ´»ç”¨ | æ¡ˆ3: StateMachineBehaviour |
|------|----------------|------------------|---------------------------|
| **å®Ÿè£…é›£æ˜“åº¦** | â­ ç°¡å˜ | â­â­ æ™®é€š | â­â­â­ é›£ã—ã„ |
| **ãƒ‡ãƒãƒƒã‚°** | â­â­â­ å®¹æ˜“ | â­â­ æ™®é€š | â­ é›£ã—ã„ |
| **æ‹¡å¼µæ€§** | â­â­ æ™®é€š | â­â­ æ™®é€š | â­â­â­ é«˜ã„ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | â­â­â­ è‰¯å¥½ | â­â­â­ è‰¯å¥½ | â­â­ æ™®é€š |
| **ä¿å®ˆæ€§** | â­â­â­ è‰¯å¥½ | â­â­ æ™®é€š | â­â­ æ™®é€š |
| **å­¦ç¿’ã‚³ã‚¹ãƒˆ** | â­ ä½ã„ | â­â­ æ™®é€š | â­â­â­ é«˜ã„ |

---

## ğŸ’¡ æ¨å¥¨å®Ÿè£…: æ¡ˆ1ã®è©³ç´°æ‰‹é †

ç¾åœ¨ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’è€ƒæ…®ã™ã‚‹ã¨ã€**æ¡ˆ1ãŒæœ€é©**ã§ã™ã€‚ä»¥ä¸‹ã€å…·ä½“çš„ãªå®Ÿè£…æ‰‹é †ã‚’ç¤ºã—ã¾ã™ã€‚

### ã‚¹ãƒ†ãƒƒãƒ—1: Animator Controllerã®ä½œæˆ

1. **æ–°ã—ã„Animator Controllerã‚’ä½œæˆ**
   - `Assets/APP/Animation/Enemy/EnemyAnimatorController.controller`

2. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ **
   ```
   - Attack (Float)
   - MoveX (Float)
   - MoveZ (Float)
   ```

3. **Blend Treeã‚’ä½œæˆ**
   - Base Layerã«"Movement"ã¨ã„ã†åå‰ã®Blend Tree Stateä½œæˆ
   - Type: 2D Freeform Directional
   - Parameters: MoveX, MoveZ

4. **Attack Stateã‚’ä½œæˆ**
   - æ”»æ’ƒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒªãƒƒãƒ—ã‚’å‰²ã‚Šå½“ã¦

5. **Transitionã‚’è¨­å®š**
   ```
   Any State â†’ Attack
   - Condition: Attack > 0.5
   - Has Exit Time: false
   - Transition Duration: 0.1

   Attack â†’ Movement
   - Condition: Attack < 0.5
   - Has Exit Time: true
   - Exit Time: 1.0
   - Transition Duration: 0.2
   ```

### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®è¨­å®š

1. **æ”»æ’ƒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒªãƒƒãƒ—ã‚’é¸æŠ**

2. **Animationã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã**

3. **ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ **
   - 10%ã®ä½ç½®: `AttackStart`
   - 60%ã®ä½ç½®: `Hit`
   - 95%ã®ä½ç½®: `AttackEnd`

### ã‚¹ãƒ†ãƒƒãƒ—3: æ•µã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®š

1. **Enemyã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ä»¥ä¸‹ã‚’ã‚¢ã‚¿ãƒƒãƒ**
   - Animator (ä½œæˆã—ãŸControllerã‚’è¨­å®š)
   - CharacterController
   - Enemystate1
   - Enemykinsetu1
   - EnemyDamage

2. **Weaponã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ(å­)ã‚’ä½œæˆ**
   - Collider (Is Trigger: ON)
   - CharaAttack

3. **ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼ã§è¨­å®š**
   ```
   [Enemystate1]
   - Detection Range: 15
   - Chase Range: 20
   - Attack Range: 2.5
   - Move Speed: 3
   - Rotation Speed: 5
   - Attack Cooldown: 2
   - Player: (Playerã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)
   - Charadata: (ScriptableObject)

   [CharaAttack]
   - Chara Data: (æ•µã®ScriptableObject)
   - Attack Chara: (è¦ªã®Enemyã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)
   ```

### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ†ã‚¹ãƒˆã¨èª¿æ•´

1. **å‹•ä½œç¢ºèª**
   - ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«è¿‘ã¥ãã¨è¿½è·¡ã™ã‚‹ã‹
   - æ”»æ’ƒç¯„å›²å†…ã§æ”»æ’ƒã™ã‚‹ã‹
   - æ”»æ’ƒå¾Œã«ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ã™ã‚‹ã‹

2. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´**
   - ç§»å‹•é€Ÿåº¦
   - æ”»æ’ƒç¯„å›²
   - ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³æ™‚é–“

3. **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³èª¿æ•´**
   - Transitionæ™‚é–“
   - ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°

---

## ğŸ¨ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. Transitionæ™‚é–“ã®è¨­å®š

```
å¾…æ©Ÿ â‡„ ç§»å‹•: 0.1 ~ 0.2ç§’ (ç´ æ—©ã)
ç§»å‹• â†’ æ”»æ’ƒ: 0.1ç§’ (å³åº§ã«)
æ”»æ’ƒ â†’ ç§»å‹•: 0.2 ~ 0.3ç§’ (è‡ªç„¶ã«)
```

### 2. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°

```
AttackStart: æ”»æ’ƒãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹ç›´å¾Œ (5-10%)
Hit: æ­¦å™¨ãŒæœ€ã‚‚é€Ÿãå‹•ãã‚¿ã‚¤ãƒŸãƒ³ã‚° (50-70%)
AttackEnd: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†ç›´å‰ (90-95%)
```

### 3. Blend Treeã®è¨­å®š

```
ä¸­å¿ƒ (0, 0): Idle
å‰æ–¹ (0, 1): Walk Forward
å¾Œæ–¹ (0, -1): Walk Backward
å·¦ (-1, 0): Strafe Left
å³ (1, 0): Strafe Right

æ–œã‚æ–¹å‘ã¯è‡ªå‹•çš„ã«ãƒ–ãƒ¬ãƒ³ãƒ‰ã•ã‚Œã‚‹
```

---

## ğŸ› ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

### å•é¡Œ1: æ”»æ’ƒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå†ç”Ÿã•ã‚Œãªã„

**åŸå› :**
- Transitionã®æ¡ä»¶ãŒé–“é•ã£ã¦ã„ã‚‹
- Attackãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–:**
```csharp
// Enemystate1.cs ã® UpdateAnimator() ã§ç¢ºèª
Debug.Log($"Attack Parameter: {animator.GetFloat("Attack")}");
```

### å•é¡Œ2: æ”»æ’ƒãŒé€£ç¶šã§ç™ºå‹•ã™ã‚‹

**åŸå› :**
- AttackEndã§ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ãªã„
- ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ãŒæ©Ÿèƒ½ã—ã¦ã„ãªã„

**è§£æ±ºç­–:**
```csharp
public void AttackEnd()
{
    animator.SetFloat("Attack", 0f); // å¿…ãš0ã«ãƒªã‚»ãƒƒãƒˆ
    Debug.Log("Attack parameter reset to 0");
}
```

### å•é¡Œ3: ç§»å‹•ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ»‘ã‚‰ã‹ ã§ãªã„

**åŸå› :**
- MoveX, MoveZã®æ›´æ–°ãŒä¸é©åˆ‡
- Blend Treeã®è¨­å®šãŒé–“é•ã£ã¦ã„ã‚‹

**è§£æ±ºç­–:**
```csharp
// Enemystate1.cs ã® UpdateMovementAnimation()
// ãƒ­ãƒ¼ã‚«ãƒ«åº§æ¨™ç³»ã«å¤‰æ›ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
Vector3 localDirection = transform.InverseTransformDirection(worldDirection);
animator.SetFloat("MoveX", localDirection.x);
animator.SetFloat("MoveZ", localDirection.z);
```

### å•é¡Œ4: ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆãŒå‘¼ã°ã‚Œãªã„

**åŸå› :**
- Enemykinsetu1ãŒã‚¢ã‚¿ãƒƒãƒã•ã‚Œã¦ã„ãªã„
- ãƒ¡ã‚½ãƒƒãƒ‰åãŒé–“é•ã£ã¦ã„ã‚‹
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒªãƒƒãƒ—ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ãªã„

**è§£æ±ºç­–:**
1. Enemyã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«`Enemykinsetu1`ãŒã‚¢ã‚¿ãƒƒãƒã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
2. ã‚¤ãƒ™ãƒ³ãƒˆåãŒå®Œå…¨ä¸€è‡´ã—ã¦ã„ã‚‹ã‹ç¢ºèª (å¤§æ–‡å­—å°æ–‡å­—å«ã‚€)
3. ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒªãƒƒãƒ—ãŒæ­£ã—ã„Animator Controllerã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

---

## ğŸ“Š å®Ÿè£…ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### Animatorè¨­å®š
- [ ] Animator Controllerã‚’ä½œæˆã—ãŸ
- [ ] ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ (Attack, MoveX, MoveZ) ã‚’è¿½åŠ ã—ãŸ
- [ ] Blend Treeã‚’ä½œæˆã—ã€ç§»å‹•ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ãŸ
- [ ] Attack Stateã‚’ä½œæˆã—ã€æ”»æ’ƒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­å®šã—ãŸ
- [ ] Transitionã‚’æ­£ã—ãè¨­å®šã—ãŸ

### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
- [ ] AttackStartã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ ã—ãŸ (10%ä»˜è¿‘)
- [ ] Hitã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ ã—ãŸ (60%ä»˜è¿‘)
- [ ] AttackEndã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ ã—ãŸ (95%ä»˜è¿‘)
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆåãŒæ­£ã—ã„ã‹ç¢ºèªã—ãŸ

### ã‚¹ã‚¯ãƒªãƒ—ãƒˆè¨­å®š
- [ ] Enemystate1ã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸ
- [ ] Enemykinsetu1ã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸ
- [ ] EnemyDamageã‚’ã‚¢ã‚¿ãƒƒãƒã—ãŸ
- [ ] CharaAttackã‚’æ­¦å™¨ã«ã‚¢ã‚¿ãƒƒãƒã—ãŸ
- [ ] å¿…è¦ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨­å®šã—ãŸ

### å‹•ä½œç¢ºèª
- [ ] ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’æ¤œçŸ¥ã—ã¦è¿½è·¡ã™ã‚‹
- [ ] æ”»æ’ƒç¯„å›²å†…ã§æ”»æ’ƒã™ã‚‹
- [ ] æ”»æ’ƒã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãå†ç”Ÿã•ã‚Œã‚‹
- [ ] ãƒ€ãƒ¡ãƒ¼ã‚¸ãŒæ­£ã—ãå…¥ã‚‹
- [ ] ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³ãŒæ©Ÿèƒ½ã™ã‚‹
- [ ] Gizmosã§ç¯„å›²ãŒè¡¨ç¤ºã•ã‚Œã‚‹

---

## ğŸ¯ ã¾ã¨ã‚

### æ¨å¥¨: æ¡ˆ1ã‚’æ¡ç”¨ã™ã‚‹ç†ç”±

1. **æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’æ´»ã‹ã›ã‚‹**: ç¾åœ¨ã®`Enemystate1.cs`ã¨`Enemykinsetu1.cs`ã‚’ã»ã¼ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½
2. **å®Ÿè£…ãŒç°¡å˜**: è¿½åŠ ä½œæ¥­ã¯Animatorè¨­å®šã¨ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆè¨­å®šã®ã¿
3. **ãƒ‡ãƒãƒƒã‚°ãŒå®¹æ˜“**: çŠ¶æ…‹ç®¡ç†ãŒã‚¹ã‚¯ãƒªãƒ—ãƒˆå´ã§æ˜ç¢º
4. **æ‹¡å¼µæ€§**: æ–°ã—ã„æ•µã‚¿ã‚¤ãƒ—ã‚’è¿½åŠ ã—ã‚„ã™ã„

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. âœ… Animator Controllerã‚’ä½œæˆ
2. âœ… ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®š
3. âœ… æ•µã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¨­å®š
4. âœ… ãƒ†ã‚¹ãƒˆã¨èª¿æ•´

ã“ã®æ‰‹é †ã«å¾“ãˆã°ã€ç¾åœ¨ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å½¢å¼ã§æ•µã®ç§»å‹•â†’æ”»æ’ƒã‚’ç¢ºå®Ÿã«å®Ÿè£…ã§ãã¾ã™!
